<?xml version="1.0" encoding="UTF-8"?>
<ejb-jar version="3.0"
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd"
    >

    <!--
        This file is required for mapping
        - the EjbcaDS DataSource JNDI name to "java:comp/env/DataSource" (@Resource injection using mappedName is appserver specific.)
        
        TODO:
        - Review if all these SSBs really use DataSources.
        - Replace JDBC access with JPA Queries and drop injection of DataSources.
    -->

    <enterprise-beans>
        <session>
            <ejb-name>LocalCertificateStoreOnlyDataSessionBean</ejb-name>
            <ejb-class>org.ejbca.core.ejb.ca.store.LocalCertificateStoreOnlyDataSessionBean</ejb-class>
            <env-entry>
                <env-entry-name>DataSource</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value><![CDATA[${datasource.jndi-name-prefix}${datasource.jndi-name}]]></env-entry-value>
            </env-entry>
        </session>
    </enterprise-beans>
</ejb-jar>
